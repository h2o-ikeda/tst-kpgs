<!DOCTYPE html>
<html>
  <head>
    <title>検索</title>
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='sample.css') }}">
  </head>
  <body>
    <header>
      <img src="https://storage.cloud.google.com/tst-kpgs-poc-h2o.appspot.com/EXzrSt3VcAA6c6M.jpg" id="headerimg">
    </header>
    <div class="content">
    <p>タイプでさがす</p>
    <form method="POST" action="/" name="inputForm">
      <p><input type="text" name="search_type" placeholder="ひらがなで入力してください" class="seachform" size="25"></p>
      <button type="button" class="btn" id="searchButton" onclick="confirmFunction()">送信</button>
    </form>
    <form method="POST" action="/upload" name="uploadForm">
      <input type="file" name="uploadFile" accept="text/csv">
      <button type="submit" class="btn" id="uploadButton">CSVアップロード</button>
    </form>
    </div>
  </body>
  
  <script>
    function confirmFunction() {

      // 入力チェック
      if (inputForm.search_type.value === "") {
        alert("タイプを入力してください")
        return false
      }
      
      // 確認ポップアップ
      const result = confirm(`下記の情報でポケモンを検索します。よろしいですか？
タイプ：${inputForm.search_type.value}`)
  
      if( result ) {
        // サーバに通知
        inputForm.submit()

      }
    }
  </script>

</html>
